% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/site_community.R
\name{site_community}
\alias{site_community}
\title{Create Site-Species Community Matrix}
\usage{
site_community(
  df,
  site_col = "site",
  species_col = "scientific_name",
  abundance_col = "var",
  presence_absence = FALSE
)
}
\arguments{
\item{df}{A data frame containing ecological survey data with site, species,
and abundance information.}

\item{site_col}{Character string specifying the column name containing site
identifiers. Default is "site".}

\item{species_col}{Character string specifying the column name containing
species identifiers. Default is "scientific_name".}

\item{abundance_col}{Character string specifying the column name containing
abundance or count data. Default is "var".}

\item{presence_absence}{Logical value indicating whether to return
presence-absence data (TRUE) or abundance data (FALSE). When TRUE, any
abundance value > 0 is converted to 1, otherwise 0. Default is FALSE.}
}
\value{
A numeric matrix with sites as rows and species as columns. Row names
are site identifiers and column names are species identifiers. For abundance
data, values represent the abundance/count values. For presence-absence data,
values are 1 (present) or 0 (absent).
}
\description{
This function creates a site-species community matrix from ecological data,
with options for abundance data or presence-absence data. The resulting matrix
has sites as rows and species as columns, making it suitable for ordination
analyses such as NMDS.
}
\details{
The function handles duplicate site-species combinations by summing abundances
(when presence_absence = FALSE) or taking the maximum presence value (when
presence_absence = TRUE). Missing combinations are filled with zeros.
}
\examples{
# Create sample data
sample_data <- data.frame(
  site = c("A", "A", "B", "B", "C"),
  scientific_name = c("Species1", "Species2", "Species1", "Species3", "Species2"),
  var = c(5, 3, 2, 1, 0)
)

# Create abundance matrix
abundance_matrix <- site_community(sample_data)

# Create presence-absence matrix
pa_matrix <- site_community(sample_data, presence_absence = TRUE)

# Use custom column names
custom_data <- data.frame(
  location = c("Site1", "Site2"),
  species_name = c("Bird1", "Bird2"),
  count = c(10, 5)
)
custom_matrix <- site_community(custom_data,
                               site_col = "location",
                               species_col = "species_name",
                               abundance_col = "count")

}
